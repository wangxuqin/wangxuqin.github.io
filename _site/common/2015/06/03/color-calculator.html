<!DOCTYPE html>
<html lang="zh">
  <head>

  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>常用色彩模型转换算法 | KimWang's blog</title>
<meta name="description" content="KimWang's blog">

<meta itemprop="name" content="">
<meta itemprop="description" content="KimWang's blog">
<meta itemprop="image" content="">

<meta property="og:url" content="http://localhost:4000/common/2015/06/03/color-calculator.html">
<meta property="og:type" content="website">
<meta property="og:title" content="常用色彩模型转换算法 | KimWang's blog">
<meta property="og:site_name" content="KimWang's blog">
<meta property="og:description" content="KimWang's blog">
<meta property="og:image" content="">

<meta name="twitter:url" content="http://localhost:4000/common/2015/06/03/color-calculator.html">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="常用色彩模型转换算法 | KimWang's blog">
<meta name="twitter:site" content="KimWang's blog">
<meta name="twitter:description" content="KimWang's blog">

<meta property="twitter:image" content="">

<link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico">

<!--
<link rel="stylesheet" href="/assets/css/app.min.css">
<link rel="alternate" type="application/rss+xml" title="KimWang's blog" href="/feed.xml">
<link rel="canonical" href="/common/2015/06/03/color-calculator.html">
-->
<link rel="stylesheet" href="/assets/dist/style.css">
<link rel="stylesheet" href="/assets/dist/highlight.css">
<link rel="stylesheet" href="/assets/dist/search.css">
<link rel="stylesheet" href="/assets/dist/fontsettings.css">




</head>

  <body>
    <div class="book without-animation with-summary font-size-2 font-family-1">
    <input type='checkbox' id='sidemenu' checked="true">
<aside>
<h3>KimWang's blog</h3>
<ul id="sideul">
    <li><a            href="http://localhost:4000/">主页</a></li>
    <li><a class="active" href="http://localhost:4000/posts.html">文章</a></li>
    <li><a href="#">工具</a></li>
    <li><a href="#">关于</a></li>
</ul> 
</aside>   

<div class="book-summary">
  <div id="book-search-input" role="search">
    <input type="text" placeholder="search">
  </div>
  <nav role="navigation">
  <ul class="summary">
    
    
    <h2>&nbsp;&nbsp;android</h2>
    
      <li ><a href="/android/2015/04/15/basic-width-android.html">&nbsp;&nbsp;&nbsp;&nbsp;1.android基础知识</a></li>
    
      <li ><a href="/android/2015/04/13/problem-width-android-orientation.html">&nbsp;&nbsp;&nbsp;&nbsp;2.android横竖屏切换时的一些问题</a></li>
    
  
    <li class="divider"></li>
    <h2>&nbsp;&nbsp;Common</h2>
    
      <li ><a href="/common/2015/04/30/linux_system_signal.html">&nbsp;&nbsp;&nbsp;&nbsp;1.Linux信号signal处理机制（转）</a></li>
    
      <li ><a href="/common/2015/04/29/timelinefx.html">&nbsp;&nbsp;&nbsp;&nbsp;2.Timelinefx粒子编辑器</a></li>
    
      <li ><a href="/common/2015/04/20/common-cmd.html">&nbsp;&nbsp;&nbsp;&nbsp;3.C/C++常用命令</a></li>
    
      <li ><a href="/common/2015/04/20/dll-and-so-compare.html">&nbsp;&nbsp;&nbsp;&nbsp;4.Window动态库与Linux共享对象比较（转）</a></li>
    
  
    <li class="divider"></li>
    <h2>&nbsp;&nbsp;Android</h2>
    
      <li ><a href="/android/2015/05/04/question-width-android.html">&nbsp;&nbsp;&nbsp;&nbsp;1.android开发问题集</a></li>
    
  
    <li class="divider"></li>
    <h2>&nbsp;&nbsp;AS3</h2>
    
      <li ><a href="/as3/2015/05/08/filereference.html">&nbsp;&nbsp;&nbsp;&nbsp;1.使用 FileReference 类（转）</a></li>
    
  
    <li class="divider"></li>
    <h2>&nbsp;&nbsp;common</h2>
    
      <li ><a href="/common/2015/06/05/opengl-glsurfaceview.html">&nbsp;&nbsp;&nbsp;&nbsp;1.GLSurfaceView相关（转）</a></li>
    
      <li class="active"><a href="/common/2015/06/03/color-calculator.html">&nbsp;&nbsp;&nbsp;&nbsp;2.常用色彩模型转换算法</a></li>
    
      <li ><a href="/common/2015/05/26/fragment.html">&nbsp;&nbsp;&nbsp;&nbsp;3.常用代码片段</a></li>
    
  
  </ul>
</nav>
</div>

<div id='wrap'>
    <label id='sideMenuControl' for='sidemenu'>≡</label>
</div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <div style="display: none">TODO: share icons</div>
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i>
            <a>常用色彩模型转换算法</a>
          </h1>
        </div>
        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">
            <div id="book-search-results">
              <div class="search-noresults">
                <section class="normal markdown-section">
                  <p><strong>色彩模型</strong><br />
颜色的描述是通过建立了色彩模型来实现的，不同的色彩模型对应于不同的处理目的。</p>

<p>CIE(国际照明委员会)在进行大量的色彩测试实验的基础上提出了一些列的颜色模型：
(1)RGB模型：红(R)、绿(G)、蓝(B)三基色混合
(2)HSI模型：色度(H)、饱和度(S)、亮度(I)
(3)YUV模型：亮度(Y)、色度(UV)
(4)YCbCr模型：亮度(Y)、色度(CbCr)
…
各种不同的颜色模型之间可以通过数学方法转换。</p>

<p><strong>RGB-&gt;HSL</strong></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">var_R</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">R</span> <span class="o">/</span> <span class="mi">255</span> <span class="p">)</span>                     <span class="c1">//RGB from 0 to 255</span>
<span class="nx">var_G</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">G</span> <span class="o">/</span> <span class="mi">255</span> <span class="p">)</span>
<span class="nx">var_B</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">B</span> <span class="o">/</span> <span class="mi">255</span> <span class="p">)</span>

<span class="nx">var_Min</span> <span class="o">=</span> <span class="nx">min</span><span class="p">(</span> <span class="nx">var_R</span><span class="p">,</span> <span class="nx">var_G</span><span class="p">,</span> <span class="nx">var_B</span> <span class="p">)</span>    <span class="c1">//Min. value of RGB</span>
<span class="nx">var_Max</span> <span class="o">=</span> <span class="nx">max</span><span class="p">(</span> <span class="nx">var_R</span><span class="p">,</span> <span class="nx">var_G</span><span class="p">,</span> <span class="nx">var_B</span> <span class="p">)</span>    <span class="c1">//Max. value of RGB</span>
<span class="nx">del_Max</span> <span class="o">=</span> <span class="nx">var_Max</span> <span class="o">-</span> <span class="nx">var_Min</span>             <span class="c1">//Delta RGB value</span>

<span class="nx">L</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">var_Max</span> <span class="o">+</span> <span class="nx">var_Min</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>

<span class="k">if</span> <span class="p">(</span> <span class="nx">del_Max</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span>                     <span class="c1">//This is a gray, no chroma...</span>
<span class="p">{</span>
   <span class="nx">H</span> <span class="o">=</span> <span class="mi">0</span>                                <span class="c1">//HSL results from 0 to 1</span>
   <span class="nx">S</span> <span class="o">=</span> <span class="mi">0</span>
<span class="p">}</span>
<span class="k">else</span>                                    <span class="c1">//Chromatic data...</span>
<span class="p">{</span>
   <span class="k">if</span> <span class="p">(</span> <span class="nx">L</span> <span class="o">&lt;</span> <span class="mf">0.5</span> <span class="p">)</span> <span class="nx">S</span> <span class="o">=</span> <span class="nx">del_Max</span> <span class="o">/</span> <span class="p">(</span> <span class="nx">var_Max</span> <span class="o">+</span> <span class="nx">var_Min</span> <span class="p">)</span>
   <span class="k">else</span>           <span class="nx">S</span> <span class="o">=</span> <span class="nx">del_Max</span> <span class="o">/</span> <span class="p">(</span> <span class="mi">2</span> <span class="o">-</span> <span class="nx">var_Max</span> <span class="o">-</span> <span class="nx">var_Min</span> <span class="p">)</span>

   <span class="nx">del_R</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="nx">var_Max</span> <span class="o">-</span> <span class="nx">var_R</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">6</span> <span class="p">)</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">del_Max</span> <span class="o">/</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">)</span> <span class="o">/</span> <span class="nx">del_Max</span>
   <span class="nx">del_G</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="nx">var_Max</span> <span class="o">-</span> <span class="nx">var_G</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">6</span> <span class="p">)</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">del_Max</span> <span class="o">/</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">)</span> <span class="o">/</span> <span class="nx">del_Max</span>
   <span class="nx">del_B</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="nx">var_Max</span> <span class="o">-</span> <span class="nx">var_B</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">6</span> <span class="p">)</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">del_Max</span> <span class="o">/</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">)</span> <span class="o">/</span> <span class="nx">del_Max</span>

   <span class="k">if</span>      <span class="p">(</span> <span class="nx">var_R</span> <span class="o">==</span> <span class="nx">var_Max</span> <span class="p">)</span> <span class="nx">H</span> <span class="o">=</span> <span class="nx">del_B</span> <span class="o">-</span> <span class="nx">del_G</span>
   <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">var_G</span> <span class="o">==</span> <span class="nx">var_Max</span> <span class="p">)</span> <span class="nx">H</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">3</span> <span class="p">)</span> <span class="o">+</span> <span class="nx">del_R</span> <span class="o">-</span> <span class="nx">del_B</span>
   <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">var_B</span> <span class="o">==</span> <span class="nx">var_Max</span> <span class="p">)</span> <span class="nx">H</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">2</span> <span class="o">/</span> <span class="mi">3</span> <span class="p">)</span> <span class="o">+</span> <span class="nx">del_G</span> <span class="o">-</span> <span class="nx">del_R</span>

   <span class="k">if</span> <span class="p">(</span> <span class="nx">H</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="nx">H</span> <span class="o">+=</span> <span class="mi">1</span>
   <span class="k">if</span> <span class="p">(</span> <span class="nx">H</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">)</span> <span class="nx">H</span> <span class="o">-=</span> <span class="mi">1</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>RGB&lt;-HSL</strong></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span> <span class="nx">S</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span>                       <span class="c1">//HSL from 0 to 1</span>
<span class="p">{</span>
   <span class="nx">R</span> <span class="o">=</span> <span class="nx">L</span> <span class="o">*</span> <span class="mi">255</span>                      <span class="c1">//RGB results from 0 to 255</span>
   <span class="nx">G</span> <span class="o">=</span> <span class="nx">L</span> <span class="o">*</span> <span class="mi">255</span>
   <span class="nx">B</span> <span class="o">=</span> <span class="nx">L</span> <span class="o">*</span> <span class="mi">255</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
   <span class="k">if</span> <span class="p">(</span> <span class="nx">L</span> <span class="o">&lt;</span> <span class="mf">0.5</span> <span class="p">)</span> <span class="nx">var_2</span> <span class="o">=</span> <span class="nx">L</span> <span class="o">*</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">+</span> <span class="nx">S</span> <span class="p">)</span>
   <span class="k">else</span>           <span class="nx">var_2</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">L</span> <span class="o">+</span> <span class="nx">S</span> <span class="p">)</span> <span class="o">-</span> <span class="p">(</span> <span class="nx">S</span> <span class="o">*</span> <span class="nx">L</span> <span class="p">)</span>

   <span class="nx">var_1</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="nx">L</span> <span class="o">-</span> <span class="nx">var_2</span>

   <span class="nx">R</span> <span class="o">=</span> <span class="mi">255</span> <span class="o">*</span> <span class="nx">Hue_2_RGB</span><span class="p">(</span> <span class="nx">var_1</span><span class="p">,</span> <span class="nx">var_2</span><span class="p">,</span> <span class="nx">H</span> <span class="o">+</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">3</span> <span class="p">)</span> <span class="p">)</span> 
   <span class="nx">G</span> <span class="o">=</span> <span class="mi">255</span> <span class="o">*</span> <span class="nx">Hue_2_RGB</span><span class="p">(</span> <span class="nx">var_1</span><span class="p">,</span> <span class="nx">var_2</span><span class="p">,</span> <span class="nx">H</span> <span class="p">)</span>
   <span class="nx">B</span> <span class="o">=</span> <span class="mi">255</span> <span class="o">*</span> <span class="nx">Hue_2_RGB</span><span class="p">(</span> <span class="nx">var_1</span><span class="p">,</span> <span class="nx">var_2</span><span class="p">,</span> <span class="nx">H</span> <span class="o">-</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">3</span> <span class="p">)</span> <span class="p">)</span>
<span class="p">}</span>

<span class="nx">Hue_2_RGB</span><span class="p">(</span> <span class="nx">v1</span><span class="p">,</span> <span class="nx">v2</span><span class="p">,</span> <span class="nx">vH</span> <span class="p">)</span>             <span class="c1">//Function Hue_2_RGB</span>
<span class="p">{</span>
   <span class="k">if</span> <span class="p">(</span> <span class="nx">vH</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="nx">vH</span> <span class="o">+=</span> <span class="mi">1</span>
   <span class="k">if</span> <span class="p">(</span> <span class="nx">vH</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">)</span> <span class="nx">vH</span> <span class="o">-=</span> <span class="mi">1</span>
   <span class="k">if</span> <span class="p">(</span> <span class="p">(</span> <span class="mi">6</span> <span class="o">*</span> <span class="nx">vH</span> <span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="p">)</span> <span class="k">return</span> <span class="p">(</span> <span class="nx">v1</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">v2</span> <span class="o">-</span> <span class="nx">v1</span> <span class="p">)</span> <span class="o">*</span> <span class="mi">6</span> <span class="o">*</span> <span class="nx">vH</span> <span class="p">)</span>
   <span class="k">if</span> <span class="p">(</span> <span class="p">(</span> <span class="mi">2</span> <span class="o">*</span> <span class="nx">vH</span> <span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="p">)</span> <span class="k">return</span> <span class="p">(</span> <span class="nx">v2</span> <span class="p">)</span>
   <span class="k">if</span> <span class="p">(</span> <span class="p">(</span> <span class="mi">3</span> <span class="o">*</span> <span class="nx">vH</span> <span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="p">)</span> <span class="k">return</span> <span class="p">(</span> <span class="nx">v1</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">v2</span> <span class="o">-</span> <span class="nx">v1</span> <span class="p">)</span> <span class="o">*</span> <span class="p">(</span> <span class="p">(</span> <span class="mi">2</span> <span class="o">/</span> <span class="mi">3</span> <span class="p">)</span> <span class="o">-</span> <span class="nx">vH</span> <span class="p">)</span> <span class="o">*</span> <span class="mi">6</span> <span class="p">)</span>
   <span class="k">return</span> <span class="p">(</span> <span class="nx">v1</span> <span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>RGB-&gt;HSV</strong></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">var_R</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">R</span> <span class="o">/</span> <span class="mi">255</span> <span class="p">)</span>                     <span class="c1">//RGB from 0 to 255</span>
<span class="nx">var_G</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">G</span> <span class="o">/</span> <span class="mi">255</span> <span class="p">)</span>
<span class="nx">var_B</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">B</span> <span class="o">/</span> <span class="mi">255</span> <span class="p">)</span>

<span class="nx">var_Min</span> <span class="o">=</span> <span class="nx">min</span><span class="p">(</span> <span class="nx">var_R</span><span class="p">,</span> <span class="nx">var_G</span><span class="p">,</span> <span class="nx">var_B</span> <span class="p">)</span>    <span class="c1">//Min. value of RGB</span>
<span class="nx">var_Max</span> <span class="o">=</span> <span class="nx">max</span><span class="p">(</span> <span class="nx">var_R</span><span class="p">,</span> <span class="nx">var_G</span><span class="p">,</span> <span class="nx">var_B</span> <span class="p">)</span>    <span class="c1">//Max. value of RGB</span>
<span class="nx">del_Max</span> <span class="o">=</span> <span class="nx">var_Max</span> <span class="o">-</span> <span class="nx">var_Min</span>             <span class="c1">//Delta RGB value </span>

<span class="nx">V</span> <span class="o">=</span> <span class="nx">var_Max</span>

<span class="k">if</span> <span class="p">(</span> <span class="nx">del_Max</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span>                     <span class="c1">//This is a gray, no chroma...</span>
<span class="p">{</span>
   <span class="nx">H</span> <span class="o">=</span> <span class="mi">0</span>                                <span class="c1">//HSV results from 0 to 1</span>
   <span class="nx">S</span> <span class="o">=</span> <span class="mi">0</span>
<span class="p">}</span>
<span class="k">else</span>                                    <span class="c1">//Chromatic data...</span>
<span class="p">{</span>
   <span class="nx">S</span> <span class="o">=</span> <span class="nx">del_Max</span> <span class="o">/</span> <span class="nx">var_Max</span>

   <span class="nx">del_R</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="nx">var_Max</span> <span class="o">-</span> <span class="nx">var_R</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">6</span> <span class="p">)</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">del_Max</span> <span class="o">/</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">)</span> <span class="o">/</span> <span class="nx">del_Max</span>
   <span class="nx">del_G</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="nx">var_Max</span> <span class="o">-</span> <span class="nx">var_G</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">6</span> <span class="p">)</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">del_Max</span> <span class="o">/</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">)</span> <span class="o">/</span> <span class="nx">del_Max</span>
   <span class="nx">del_B</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span> <span class="p">(</span> <span class="nx">var_Max</span> <span class="o">-</span> <span class="nx">var_B</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">6</span> <span class="p">)</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">del_Max</span> <span class="o">/</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">)</span> <span class="o">/</span> <span class="nx">del_Max</span>

   <span class="k">if</span>      <span class="p">(</span> <span class="nx">var_R</span> <span class="o">==</span> <span class="nx">var_Max</span> <span class="p">)</span> <span class="nx">H</span> <span class="o">=</span> <span class="nx">del_B</span> <span class="o">-</span> <span class="nx">del_G</span>
   <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">var_G</span> <span class="o">==</span> <span class="nx">var_Max</span> <span class="p">)</span> <span class="nx">H</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">3</span> <span class="p">)</span> <span class="o">+</span> <span class="nx">del_R</span> <span class="o">-</span> <span class="nx">del_B</span>
   <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">var_B</span> <span class="o">==</span> <span class="nx">var_Max</span> <span class="p">)</span> <span class="nx">H</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">2</span> <span class="o">/</span> <span class="mi">3</span> <span class="p">)</span> <span class="o">+</span> <span class="nx">del_G</span> <span class="o">-</span> <span class="nx">del_R</span>

   <span class="k">if</span> <span class="p">(</span> <span class="nx">H</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="nx">H</span> <span class="o">+=</span> <span class="mi">1</span>
   <span class="k">if</span> <span class="p">(</span> <span class="nx">H</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">)</span> <span class="nx">H</span> <span class="o">-=</span> <span class="mi">1</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>HSV-&gt;RGB</strong></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span> <span class="nx">S</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span>                       <span class="c1">//HSV from 0 to 1</span>
<span class="p">{</span>
   <span class="nx">R</span> <span class="o">=</span> <span class="nx">V</span> <span class="o">*</span> <span class="mi">255</span>
   <span class="nx">G</span> <span class="o">=</span> <span class="nx">V</span> <span class="o">*</span> <span class="mi">255</span>
   <span class="nx">B</span> <span class="o">=</span> <span class="nx">V</span> <span class="o">*</span> <span class="mi">255</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
   <span class="nx">var_h</span> <span class="o">=</span> <span class="nx">H</span> <span class="o">*</span> <span class="mi">6</span>
   <span class="k">if</span> <span class="p">(</span> <span class="nx">var_h</span> <span class="o">==</span> <span class="mi">6</span> <span class="p">)</span> <span class="nx">var_h</span> <span class="o">=</span> <span class="mi">0</span>      <span class="c1">//H must be &lt; 1</span>
   <span class="nx">var_i</span> <span class="o">=</span> <span class="kr">int</span><span class="p">(</span> <span class="nx">var_h</span> <span class="p">)</span>             <span class="c1">//Or ... var_i = floor( var_h )</span>
   <span class="nx">var_1</span> <span class="o">=</span> <span class="nx">V</span> <span class="o">*</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">-</span> <span class="nx">S</span> <span class="p">)</span>
   <span class="nx">var_2</span> <span class="o">=</span> <span class="nx">V</span> <span class="o">*</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">-</span> <span class="nx">S</span> <span class="o">*</span> <span class="p">(</span> <span class="nx">var_h</span> <span class="o">-</span> <span class="nx">var_i</span> <span class="p">)</span> <span class="p">)</span>
   <span class="nx">var_3</span> <span class="o">=</span> <span class="nx">V</span> <span class="o">*</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">-</span> <span class="nx">S</span> <span class="o">*</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span> <span class="nx">var_h</span> <span class="o">-</span> <span class="nx">var_i</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span>

   <span class="k">if</span>      <span class="p">(</span> <span class="nx">var_i</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span> <span class="nx">var_r</span> <span class="o">=</span> <span class="nx">V</span>     <span class="p">;</span> <span class="nx">var_g</span> <span class="o">=</span> <span class="nx">var_3</span> <span class="p">;</span> <span class="nx">var_b</span> <span class="o">=</span> <span class="nx">var_1</span> <span class="p">}</span>
   <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">var_i</span> <span class="o">==</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span> <span class="nx">var_r</span> <span class="o">=</span> <span class="nx">var_2</span> <span class="p">;</span> <span class="nx">var_g</span> <span class="o">=</span> <span class="nx">V</span>     <span class="p">;</span> <span class="nx">var_b</span> <span class="o">=</span> <span class="nx">var_1</span> <span class="p">}</span>
   <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">var_i</span> <span class="o">==</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">{</span> <span class="nx">var_r</span> <span class="o">=</span> <span class="nx">var_1</span> <span class="p">;</span> <span class="nx">var_g</span> <span class="o">=</span> <span class="nx">V</span>     <span class="p">;</span> <span class="nx">var_b</span> <span class="o">=</span> <span class="nx">var_3</span> <span class="p">}</span>
   <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">var_i</span> <span class="o">==</span> <span class="mi">3</span> <span class="p">)</span> <span class="p">{</span> <span class="nx">var_r</span> <span class="o">=</span> <span class="nx">var_1</span> <span class="p">;</span> <span class="nx">var_g</span> <span class="o">=</span> <span class="nx">var_2</span> <span class="p">;</span> <span class="nx">var_b</span> <span class="o">=</span> <span class="nx">V</span>     <span class="p">}</span>
   <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="nx">var_i</span> <span class="o">==</span> <span class="mi">4</span> <span class="p">)</span> <span class="p">{</span> <span class="nx">var_r</span> <span class="o">=</span> <span class="nx">var_3</span> <span class="p">;</span> <span class="nx">var_g</span> <span class="o">=</span> <span class="nx">var_1</span> <span class="p">;</span> <span class="nx">var_b</span> <span class="o">=</span> <span class="nx">V</span>     <span class="p">}</span>
   <span class="k">else</span>                   <span class="p">{</span> <span class="nx">var_r</span> <span class="o">=</span> <span class="nx">V</span>     <span class="p">;</span> <span class="nx">var_g</span> <span class="o">=</span> <span class="nx">var_1</span> <span class="p">;</span> <span class="nx">var_b</span> <span class="o">=</span> <span class="nx">var_2</span> <span class="p">}</span>

   <span class="nx">R</span> <span class="o">=</span> <span class="nx">var_r</span> <span class="o">*</span> <span class="mi">255</span>                  <span class="c1">//RGB results from 0 to 255</span>
   <span class="nx">G</span> <span class="o">=</span> <span class="nx">var_g</span> <span class="o">*</span> <span class="mi">255</span>
   <span class="nx">B</span> <span class="o">=</span> <span class="nx">var_b</span> <span class="o">*</span> <span class="mi">255</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>RGB-&gt;XYZ</strong></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">var_R</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">R</span> <span class="o">/</span> <span class="mi">255</span> <span class="p">)</span>        <span class="c1">//R from 0 to 255</span>
<span class="nx">var_G</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">G</span> <span class="o">/</span> <span class="mi">255</span> <span class="p">)</span>        <span class="c1">//G from 0 to 255</span>
<span class="nx">var_B</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">B</span> <span class="o">/</span> <span class="mi">255</span> <span class="p">)</span>        <span class="c1">//B from 0 to 255</span>

<span class="k">if</span> <span class="p">(</span> <span class="nx">var_R</span> <span class="o">&gt;</span> <span class="mf">0.04045</span> <span class="p">)</span> <span class="nx">var_R</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span> <span class="nx">var_R</span> <span class="o">+</span> <span class="mf">0.055</span> <span class="p">)</span> <span class="o">/</span> <span class="mf">1.055</span> <span class="p">)</span> <span class="o">^</span> <span class="mf">2.4</span>
<span class="k">else</span>                   <span class="nx">var_R</span> <span class="o">=</span> <span class="nx">var_R</span> <span class="o">/</span> <span class="mf">12.92</span>
<span class="k">if</span> <span class="p">(</span> <span class="nx">var_G</span> <span class="o">&gt;</span> <span class="mf">0.04045</span> <span class="p">)</span> <span class="nx">var_G</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span> <span class="nx">var_G</span> <span class="o">+</span> <span class="mf">0.055</span> <span class="p">)</span> <span class="o">/</span> <span class="mf">1.055</span> <span class="p">)</span> <span class="o">^</span> <span class="mf">2.4</span>
<span class="k">else</span>                   <span class="nx">var_G</span> <span class="o">=</span> <span class="nx">var_G</span> <span class="o">/</span> <span class="mf">12.92</span>
<span class="k">if</span> <span class="p">(</span> <span class="nx">var_B</span> <span class="o">&gt;</span> <span class="mf">0.04045</span> <span class="p">)</span> <span class="nx">var_B</span> <span class="o">=</span> <span class="p">(</span> <span class="p">(</span> <span class="nx">var_B</span> <span class="o">+</span> <span class="mf">0.055</span> <span class="p">)</span> <span class="o">/</span> <span class="mf">1.055</span> <span class="p">)</span> <span class="o">^</span> <span class="mf">2.4</span>
<span class="k">else</span>                   <span class="nx">var_B</span> <span class="o">=</span> <span class="nx">var_B</span> <span class="o">/</span> <span class="mf">12.92</span>

<span class="nx">var_R</span> <span class="o">=</span> <span class="nx">var_R</span> <span class="o">*</span> <span class="mi">100</span>
<span class="nx">var_G</span> <span class="o">=</span> <span class="nx">var_G</span> <span class="o">*</span> <span class="mi">100</span>
<span class="nx">var_B</span> <span class="o">=</span> <span class="nx">var_B</span> <span class="o">*</span> <span class="mi">100</span>

<span class="c1">//Observer. = 2°, Illuminant = D65</span>
<span class="nx">X</span> <span class="o">=</span> <span class="nx">var_R</span> <span class="o">*</span> <span class="mf">0.4124</span> <span class="o">+</span> <span class="nx">var_G</span> <span class="o">*</span> <span class="mf">0.3576</span> <span class="o">+</span> <span class="nx">var_B</span> <span class="o">*</span> <span class="mf">0.1805</span>
<span class="nx">Y</span> <span class="o">=</span> <span class="nx">var_R</span> <span class="o">*</span> <span class="mf">0.2126</span> <span class="o">+</span> <span class="nx">var_G</span> <span class="o">*</span> <span class="mf">0.7152</span> <span class="o">+</span> <span class="nx">var_B</span> <span class="o">*</span> <span class="mf">0.0722</span>
<span class="nx">Z</span> <span class="o">=</span> <span class="nx">var_R</span> <span class="o">*</span> <span class="mf">0.0193</span> <span class="o">+</span> <span class="nx">var_G</span> <span class="o">*</span> <span class="mf">0.1192</span> <span class="o">+</span> <span class="nx">var_B</span> <span class="o">*</span> <span class="mf">0.9505</span>
</code></pre></div></div>

<p><strong>RGB&lt;-XYZ</strong></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">var_X</span> <span class="o">=</span> <span class="nx">X</span> <span class="o">/</span> <span class="mi">100</span>        <span class="c1">//X from 0 to  95.047      (Observer = 2°, Illuminant = D65)</span>
<span class="nx">var_Y</span> <span class="o">=</span> <span class="nx">Y</span> <span class="o">/</span> <span class="mi">100</span>        <span class="c1">//Y from 0 to 100.000</span>
<span class="nx">var_Z</span> <span class="o">=</span> <span class="nx">Z</span> <span class="o">/</span> <span class="mi">100</span>        <span class="c1">//Z from 0 to 108.883</span>

<span class="nx">var_R</span> <span class="o">=</span> <span class="nx">var_X</span> <span class="o">*</span>  <span class="mf">3.2406</span> <span class="o">+</span> <span class="nx">var_Y</span> <span class="o">*</span> <span class="o">-</span><span class="mf">1.5372</span> <span class="o">+</span> <span class="nx">var_Z</span> <span class="o">*</span> <span class="o">-</span><span class="mf">0.4986</span>
<span class="nx">var_G</span> <span class="o">=</span> <span class="nx">var_X</span> <span class="o">*</span> <span class="o">-</span><span class="mf">0.9689</span> <span class="o">+</span> <span class="nx">var_Y</span> <span class="o">*</span>  <span class="mf">1.8758</span> <span class="o">+</span> <span class="nx">var_Z</span> <span class="o">*</span>  <span class="mf">0.0415</span>
<span class="nx">var_B</span> <span class="o">=</span> <span class="nx">var_X</span> <span class="o">*</span>  <span class="mf">0.0557</span> <span class="o">+</span> <span class="nx">var_Y</span> <span class="o">*</span> <span class="o">-</span><span class="mf">0.2040</span> <span class="o">+</span> <span class="nx">var_Z</span> <span class="o">*</span>  <span class="mf">1.0570</span>

<span class="k">if</span> <span class="p">(</span> <span class="nx">var_R</span> <span class="o">&gt;</span> <span class="mf">0.0031308</span> <span class="p">)</span> <span class="nx">var_R</span> <span class="o">=</span> <span class="mf">1.055</span> <span class="o">*</span> <span class="p">(</span> <span class="nx">var_R</span> <span class="o">^</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">/</span> <span class="mf">2.4</span> <span class="p">)</span> <span class="p">)</span> <span class="o">-</span> <span class="mf">0.055</span>
<span class="k">else</span>                     <span class="nx">var_R</span> <span class="o">=</span> <span class="mf">12.92</span> <span class="o">*</span> <span class="nx">var_R</span>
<span class="k">if</span> <span class="p">(</span> <span class="nx">var_G</span> <span class="o">&gt;</span> <span class="mf">0.0031308</span> <span class="p">)</span> <span class="nx">var_G</span> <span class="o">=</span> <span class="mf">1.055</span> <span class="o">*</span> <span class="p">(</span> <span class="nx">var_G</span> <span class="o">^</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">/</span> <span class="mf">2.4</span> <span class="p">)</span> <span class="p">)</span> <span class="o">-</span> <span class="mf">0.055</span>
<span class="k">else</span>                     <span class="nx">var_G</span> <span class="o">=</span> <span class="mf">12.92</span> <span class="o">*</span> <span class="nx">var_G</span>
<span class="k">if</span> <span class="p">(</span> <span class="nx">var_B</span> <span class="o">&gt;</span> <span class="mf">0.0031308</span> <span class="p">)</span> <span class="nx">var_B</span> <span class="o">=</span> <span class="mf">1.055</span> <span class="o">*</span> <span class="p">(</span> <span class="nx">var_B</span> <span class="o">^</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">/</span> <span class="mf">2.4</span> <span class="p">)</span> <span class="p">)</span> <span class="o">-</span> <span class="mf">0.055</span>
<span class="k">else</span>                     <span class="nx">var_B</span> <span class="o">=</span> <span class="mf">12.92</span> <span class="o">*</span> <span class="nx">var_B</span>

<span class="nx">R</span> <span class="o">=</span> <span class="nx">var_R</span> <span class="o">*</span> <span class="mi">255</span>
<span class="nx">G</span> <span class="o">=</span> <span class="nx">var_G</span> <span class="o">*</span> <span class="mi">255</span>
<span class="nx">B</span> <span class="o">=</span> <span class="nx">var_B</span> <span class="o">*</span> <span class="mi">255</span>
</code></pre></div></div>

<p><strong>RGB-&gt;CMY</strong></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//RGB values from 0 to 255</span>
<span class="c1">//CMY results from 0 to 1</span>

<span class="nx">C</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span> <span class="nx">R</span> <span class="o">/</span> <span class="mi">255</span> <span class="p">)</span>
<span class="nx">M</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span> <span class="nx">G</span> <span class="o">/</span> <span class="mi">255</span> <span class="p">)</span>
<span class="nx">Y</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span> <span class="nx">B</span> <span class="o">/</span> <span class="mi">255</span> <span class="p">)</span>
</code></pre></div></div>

<p><strong>RGB&lt;-CMY</strong></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//CMY values from 0 to 1</span>
<span class="c1">//RGB results from 0 to 255</span>

<span class="nx">R</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">-</span> <span class="nx">C</span> <span class="p">)</span> <span class="o">*</span> <span class="mi">255</span>
<span class="nx">G</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">-</span> <span class="nx">M</span> <span class="p">)</span> <span class="o">*</span> <span class="mi">255</span>
<span class="nx">B</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">-</span> <span class="nx">Y</span> <span class="p">)</span> <span class="o">*</span> <span class="mi">255</span>
</code></pre></div></div>

<p>更多公式：http://www.easyrgb.com/index.php?X=MATH</p>

                </section>

                <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a>
              </div>
            <div class="search-results">
              <div class="has-results">
                <h1 class="search-results-title"><span class="search-results-count"></span> results matching "<span class="search-query"></span>"</h1>
                <ul class="search-results-list"></ul>
              </div>
            <div class="no-results">
              <h1 class="search-results-title">No results matching "<span class="search-query"></span>"</h1>
            </div>
            </div>
            </div>
          </div>
        </div>
      </div>


      <!--<a href="rpi3.html" class="navigation navigation-next navigation-unique" aria-label="Next page: 2016 Raspberry Pi Model 3 B" style="margin-right: 0px;">
          <i class="fa fa-angle-right"></i>
      </a>
    </div> -->
</div>

    
  </body>
</html>
